import{r as e,j as n,ac as r,ad as t,ae as d}from"./.pnpm-05c560be.js";const i=(e,n=0)=>Array.from({length:e},((e,n)=>n)).map((e=>({id:`item-${e+n}-${(new Date).getTime()}`,content:`item ${e+n}`})));function s(){const[s,l]=e.useState([i(10),i(5,10)]),a=e=>{const{source:n,destination:r}=e;if(!r)return;const t=+n.droppableId,d=+r.droppableId;if(t===d){const e=((e,n,r)=>{const t=Array.from(e),[d]=t.splice(n,1);return t.splice(r,0,d),t})(s[t],n.index,r.index),d=[...s];d[t]=e,l(d)}else{const e=((e,n,r,t)=>{const d=Array.from(e),i=Array.from(n),[s]=d.splice(r.index,1);i.splice(t.index,0,s);const l={};return l[r.droppableId]=d,l[t.droppableId]=i,l})(s[t],s[d],n,r),i=[...s];i[t]=e[t],i[d]=e[d],l(i.filter((e=>e.length)))}};return n.jsxs("div",{children:[n.jsx("button",{type:"button",onClick:()=>{l([...s,[]])},children:"Add new group"}),n.jsx("button",{type:"button",onClick:()=>{l([...s,i(1)])},children:"Add new item"}),n.jsx("div",{style:{display:"flex"},children:n.jsx(r,{onDragEnd:()=>a,children:s.map(((e,r)=>n.jsx(t,{droppableId:`${r}`,children:(t,i)=>{return n.jsxs("div",{ref:t.innerRef,style:(a=i.isDraggingOver,{background:a?"lightblue":"lightgrey",padding:8,width:250}),...t.droppableProps,children:[e.map(((e,t)=>n.jsx(d,{draggableId:e.id,index:t,children:(d,i)=>{return n.jsx("div",{ref:d.innerRef,...d.draggableProps,...d.dragHandleProps,style:(a=i.isDragging,o=d.draggableProps.style,{userSelect:"none",padding:16,margin:"0 0 8px 0",background:a?"lightgreen":"grey",...o}),children:n.jsxs("div",{style:{display:"flex",justifyContent:"space-around"},children:[e.content,n.jsx("button",{type:"button",onClick:()=>{const e=[...s];e[r].splice(t,1),l(e.filter((e=>e.length)))},children:"delete"})]})});var a,o}},e.id))),t.placeholder]});var a}},r)))})})]})}export{s as default};
