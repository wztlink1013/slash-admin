import{R as e,r as l,E as a,aI as t,aA as n,G as s,a$ as r,b0 as o,aq as i,ax as u}from"./index-651ba64e.js";import{C as c}from"./index-37a56c56.js";import{u as d}from"./index-eb9d0f65.js";const p=e.createContext(null);var f=globalThis&&globalThis.__rest||function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a};const m=(e,i)=>{var u;const{prefixCls:m,className:v,rootClassName:b,children:g,indeterminate:x=!1,style:y,onMouseEnter:h,onMouseLeave:C,skipGroup:O=!1,disabled:E}=e,j=f(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:N,direction:k,checkbox:w}=l.useContext(a),$=l.useContext(p),{isFormItemInput:P}=l.useContext(t),V=l.useContext(n),I=null!==(u=(null==$?void 0:$.disabled)||E)&&void 0!==u?u:V,M=l.useRef(j.value);l.useEffect((()=>{null==$||$.registerValue(j.value)}),[]),l.useEffect((()=>{if(!O)return j.value!==M.current&&(null==$||$.cancelValue(M.current),null==$||$.registerValue(j.value),M.current=j.value),()=>null==$?void 0:$.cancelValue(j.value)}),[j.value]);const S=N("checkbox",m),[_,T]=d(S),G=Object.assign({},j);$&&!O&&(G.onChange=function(){j.onChange&&j.onChange.apply(j,arguments),$.toggleOption&&$.toggleOption({label:g,value:j.value})},G.name=$.name,G.checked=$.value.includes(j.value));const R=s(`${S}-wrapper`,{[`${S}-rtl`]:"rtl"===k,[`${S}-wrapper-checked`]:G.checked,[`${S}-wrapper-disabled`]:I,[`${S}-wrapper-in-form-item`]:P},null==w?void 0:w.className,v,b,T),A=s({[`${S}-indeterminate`]:x},r,T),L=x?"mixed":void 0;return _(l.createElement(o,{component:"Checkbox",disabled:I},l.createElement("label",{className:R,style:Object.assign(Object.assign({},null==w?void 0:w.style),y),onMouseEnter:h,onMouseLeave:C},l.createElement(c,Object.assign({"aria-checked":L},G,{prefixCls:S,className:A,disabled:I,ref:i})),void 0!==g&&l.createElement("span",null,g))))},v=l.forwardRef(m);var b=globalThis&&globalThis.__rest||function(e,l){var a={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(a[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(t=Object.getOwnPropertySymbols(e);n<t.length;n++)l.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(a[t[n]]=e[t[n]])}return a};const g=(e,t)=>{const{defaultValue:n,children:r,options:o=[],prefixCls:c,className:f,rootClassName:m,style:g,onChange:x}=e,y=b(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:h,direction:C}=l.useContext(a),[O,E]=l.useState(y.value||n||[]),[j,N]=l.useState([]);l.useEffect((()=>{"value"in y&&E(y.value||[])}),[y.value]);const k=l.useMemo((()=>o.map((e=>"string"==typeof e||"number"==typeof e?{label:e,value:e}:e))),[o]),w=h("checkbox",c),$=`${w}-group`,[P,V]=d(w),I=i(y,["value","disabled"]),M=o.length?k.map((e=>l.createElement(v,{prefixCls:w,key:e.value.toString(),disabled:"disabled"in e?e.disabled:y.disabled,value:e.value,checked:O.includes(e.value),onChange:e.onChange,className:`${$}-item`,style:e.style,title:e.title},e.label))):r,S={toggleOption:e=>{const l=O.indexOf(e.value),a=u(O);-1===l?a.push(e.value):a.splice(l,1),"value"in y||E(a),null==x||x(a.filter((e=>j.includes(e))).sort(((e,l)=>k.findIndex((l=>l.value===e))-k.findIndex((e=>e.value===l)))))},value:O,disabled:y.disabled,name:y.name,registerValue:e=>{N((l=>[].concat(u(l),[e])))},cancelValue:e=>{N((l=>l.filter((l=>l!==e))))}},_=s($,{[`${$}-rtl`]:"rtl"===C},f,m,V);return P(l.createElement("div",Object.assign({className:_,style:g},I,{ref:t}),l.createElement(p.Provider,{value:S},M)))},x=l.forwardRef(g),y=l.memo(x),h=v;h.Group=y,h.__ANT_CHECKBOX=!0;const C=h;export{C};
